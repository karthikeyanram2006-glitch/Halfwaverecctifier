<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Lab - Half Wave Rectifier</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Virtual Lab - Half Wave Rectifier</h1>
            <nav>
                <ul>
                    <li><a href="#aim" class="nav-link">Aim</a></li>
                    <li><a href="#theory" class="nav-link">Theory</a></li>
                    <li><a href="#procedure" class="nav-link">Procedure</a></li>
                    <li><a href="#simulation" class="nav-link">Simulation</a></li>
                    <li><a href="#quiz" class="nav-link">Quiz</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="aim" class="section">
                <h2>Aim of the Experiment</h2>
                <p>To study the characteristics of half wave rectifier with and without filter</p>
            </section>

            <section id="theory" class="section">
                <h2>Theory</h2>
                <div class="theory-content">
                    <p>A rectifier converts alternating current (AC) to direct current (DC) and is an essential part of power supplies.</p>
                    <div class="formula">
                        <p><strong>Key Formulas:</strong></p>
                        <p>V<sub>dc</sub> = V<sub>m</sub>/π (without filter)</p>
                        <p>Ripple Factor = √(V<sub>rms</sub>/V<sub>dc</sub>)² - 1</p>
                    </div>
                </div>
            </section>

            <section id="simulation" class="section">
                <h2>Interactive Simulation</h2>
                
                <div class="simulation-interface">
                    <!-- Component Palette -->
                    <div class="component-palette">
                        <h3>Components</h3>
                        <div class="components-list">
                            <div class="component-item" draggable="true" data-type="ac-source">
                                <div class="component-icon">⚡</div>
                                <span>AC Source</span>
                            </div>
                            <div class="component-item" draggable="true" data-type="diode">
                                <div class="component-icon">➡️</div>
                                <span>Diode</span>
                            </div>
                            <div class="component-item" draggable="true" data-type="resistor">
                                <div class="component-icon">⏚</div>
                                <span>Resistor</span>
                            </div>
                            <div class="component-item" draggable="true" data-type="capacitor">
                                <div class="component-icon">⎍</div>
                                <span>Capacitor</span>
                            </div>
                            <div class="component-item" draggable="true" data-type="ground">
                                <div class="component-icon">⏚</div>
                                <span>Ground</span>
                            </div>
                            <div class="component-item" draggable="true" data-type="wire">
                                <div class="component-icon">➖</div>
                                <span>Wire</span>
                            </div>
                        </div>
                        
                        <div class="circuit-presets">
                            <h4>Quick Build</h4>
                            <button id="buildHalfWave" class="btn-primary">Build Half Wave</button>
                            <button id="buildWithFilter" class="btn-primary">Build With Filter</button>
                            <button id="clearCircuit" class="btn-secondary">Clear All</button>
                        </div>
                    </div>

                    <!-- Circuit Workspace -->
                    <div class="circuit-workspace">
                        <h3>Circuit Workspace</h3>
                        <div class="workspace-container">
                            <svg id="circuitCanvas" width="800" height="400"></svg>
                            <div class="workspace-grid"></div>
                        </div>
                        
                        <div class="circuit-controls">
                            <button id="simulateBtn" class="btn-primary">Run Simulation</button>
                            <button id="resetBtn" class="btn-secondary">Reset</button>
                            <button id="analyzeBtn" class="btn-tertiary">Analyze Circuit</button>
                        </div>
                    </div>

                    <!-- Waveform Display -->
                    <div class="waveform-display">
                        <h3>Live Waveforms</h3>
                        <div class="waveform-container">
                            <canvas id="inputWaveform" width="600" height="200"></canvas>
                            <canvas id="outputWaveform" width="600" height="200"></canvas>
                        </div>
                        
                        <div class="measurements-panel">
                            <h4>Real-time Measurements</h4>
                            <div class="measurements-grid">
                                <div class="measurement-item">
                                    <label>Input Voltage (RMS):</label>
                                    <span id="inputVoltageValue">0 V</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Output DC Voltage:</label>
                                    <span id="outputVoltageValue">0 V</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Ripple Voltage:</label>
                                    <span id="rippleVoltageValue">0 V</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Ripple Factor:</label>
                                    <span id="rippleFactorValue">0</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Diode Current:</label>
                                    <span id="diodeCurrentValue">0 mA</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Load Power:</label>
                                    <span id="loadPowerValue">0 mW</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Component Properties Panel -->
                <div class="properties-panel">
                    <h3>Component Properties</h3>
                    <div id="propertiesContent">
                        <p>Select a component to edit its properties</p>
                    </div>
                </div>
            </section>

            <section id="quiz" class="section">
                <h2>Quiz</h2>
                <div class="quiz-container">
                    <!-- Quiz content remains the same -->
                </div>
            </section>
        </main>
    </div>

    <script src="scripts/circuit-builder.js"></script>
    <script src="scripts/waveform-simulator.js"></script>
    <script src="scripts/simulation.js"></script>
</body>
</html>
