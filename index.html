<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Lab - Half Wave Rectifier</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Virtual Lab - Half Wave Rectifier</h1>
            <nav>
                <ul>
                    <li><a href="#aim" class="nav-link">Aim</a></li>
                    <li><a href="#theory" class="nav-link">Theory</a></li>
                    <li><a href="#simulation" class="nav-link active">Simulation</a></li>
                    <li><a href="#quiz" class="nav-link">Quiz</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="aim" class="section">
                <h2>Aim of the Experiment</h2>
                <p>To study the characteristics of half wave rectifier with and without filter</p>
            </section>

            <section id="theory" class="section">
                <h2>Theory</h2>
                <div class="theory-content">
                    <p>A half-wave rectifier converts AC to pulsating DC by allowing only one half of the AC waveform to pass through the diode.</p>
                    <div class="formula">
                        <p><strong>Without Filter:</strong> V<sub>dc</sub> = V<sub>m</sub>/π, Ripple Factor = 1.21</p>
                        <p><strong>With Filter:</strong> V<sub>dc</sub> ≈ V<sub>m</sub>, Ripple Factor reduces significantly</p>
                    </div>
                </div>
            </section>

            <section id="simulation" class="section">
                <h2>Interactive Simulation</h2>
                
                <div class="simulation-controls">
                    <div class="control-group">
                        <label>Circuit Type:</label>
                        <select id="circuitType">
                            <option value="without">Half Wave Rectifier (No Filter)</option>
                            <option value="with">Half Wave Rectifier with Filter</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label>Input Voltage: <span id="voltageValue">6V RMS</span></label>
                        <input type="range" id="inputVoltage" min="3" max="12" value="6" step="0.5">
                    </div>
                    
                    <div class="control-group">
                        <label>Load Resistance: <span id="resistanceValue">1kΩ</span></label>
                        <input type="range" id="loadResistance" min="500" max="5000" value="1000" step="100">
                    </div>
                    
                    <div class="control-group" id="capacitorControl">
                        <label>Filter Capacitance: <span id="capacitanceValue">100μF</span></label>
                        <input type="range" id="capacitance" min="10" max="1000" value="100" step="10">
                    </div>
                    
                    <button id="startSimulation" class="btn-primary">Start Simulation</button>
                    <button id="stopSimulation" class="btn-secondary">Stop Simulation</button>
                </div>

                <div class="simulation-area">
                    <div class="circuit-display">
                        <h3>Circuit Diagram</h3>
                        <div class="circuit-container">
                            <svg id="circuitSvg" width="600" height="300" viewBox="0 0 600 300">
                                <!-- Circuit will be drawn here by JavaScript -->
                            </svg>
                        </div>
                    </div>
                    
                    <div class="waveform-display">
                        <h3>Live Waveforms</h3>
                        <div class="waveform-container">
                            <div class="waveform">
                                <canvas id="inputWaveform" width="500" height="150"></canvas>
                                <div class="waveform-label">Input AC</div>
                            </div>
                            <div class="waveform">
                                <canvas id="outputWaveform" width="500" height="150"></canvas>
                                <div class="waveform-label">Output DC</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="measurements">
                    <h3>Real-time Measurements</h3>
                    <div class="measurements-grid">
                        <div class="measurement-card">
                            <div class="measurement-label">Input RMS Voltage</div>
                            <div class="measurement-value" id="inputRMS">6.00 V</div>
                        </div>
                        <div class="measurement-card">
                            <div class="measurement-label">Input Peak Voltage</div>
                            <div class="measurement-value" id="inputPeak">8.49 V</div>
                        </div>
                        <div class="measurement-card">
                            <div class="measurement-label">Output DC Voltage</div>
                            <div class="measurement-value" id="outputDC">2.70 V</div>
                        </div>
                        <div class="measurement-card">
                            <div class="measurement-label">Ripple Voltage</div>
                            <div class="measurement-value" id="rippleVoltage">3.25 V</div>
                        </div>
                        <div class="measurement-card">
                            <div class="measurement-label">Ripple Factor</div>
                            <div class="measurement-value" id="rippleFactor">1.21</div>
                        </div>
                        <div class="measurement-card">
                            <div class="measurement-label">Efficiency</div>
                            <div class="measurement-value" id="efficiency">40.6%</div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="quiz" class="section">
                <h2>Quiz</h2>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <h3>What is the main function of a diode in a rectifier circuit?</h3>
                        <div class="quiz-options">
                            <label><input type="radio" name="q1" value="a"> Convert DC to AC</label>
                            <label><input type="radio" name="q1" value="b"> Allow current in one direction only</label>
                            <label><input type="radio" name="q1" value="c"> Store electrical energy</label>
                            <label><input type="radio" name="q1" value="d"> Amplify the signal</label>
                        </div>
                    </div>
                    <button id="submitQuiz" class="btn-primary">Check Answer</button>
                    <div id="quizResult"></div>
                </div>
            </section>
        </main>
    </div>

    <script src="scripts/simulation.js"></script>
</body>
</html>
